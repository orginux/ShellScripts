#!/bin/bash
# sriptbc - обёртка для 'bc'
# возвращает резултат вчеслений

# Вызов с флагом -p позволяет указать точность чисел для вывода
if [ "$1" = "-p" ] ; then 
    precision=$2
    shift 2
else
    # Если точность не указана -- использовать по-умолчанию
    precision=2
fi

# Синтаксис '<<' позволяет интерпритировать текст до указанной метки (EOF),
# как текст введенный непосредственно в поток ввода
bc -q -l << EOF
    scale=$precision
    $*
    quit
EOF

exit 0
